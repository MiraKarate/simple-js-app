let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):document.write("A pokemon is required.")}function n(){return e}function o(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types.map(e=>e.type.name).join(", ")}).catch(function(e){console.error(e)})}function i(e){o(e).then(function(){s(e)})}function s(e){$("#pokemonModal");let t=$(".modal-body"),n=$(".modal-title");n.empty(),t.empty();let o=document.createElement("h1");o.classList.add("modal-title"),o.innerText=e.name;let i=document.createElement("p");i.classList.add("pokemon-height"),i.innerText="Height: "+e.height/10+" m";let s=document.createElement("p");s.classList.add("pokemon-types"),s.innerText="Types: "+e.types;let a=document.createElement("img");a.classList.add("pokemon-img"),a.setAttribute("src",e.imageUrl),a.setAttribute("width","304"),a.setAttribute("height","228"),a.setAttribute("alt","The Pokemon Image"),n.append(o),t.append(i),t.append(s),t.append(a)}return window.addEventListener("keydown",e=>{let t=document.querySelector("#pokemonModal");"Escape"===e.key&&t.classList.contains("is-visible")&&document.querySelector("#pokemonModal").classList.remove("is-visible")}),document.getElementById("search-input").addEventListener("input",function(){let e;e=document.getElementById("search-input").value.toLowerCase(),document.querySelectorAll(".group-list-item").forEach(function(t){t.querySelector(".pokemon-name-button").innerText.toLowerCase().includes(e)?(document.querySelector(".list-group").classList.add("search-list"),t.style.display="inline-block"):t.style.display="none"})}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".list-group"),o=document.createElement("li");o.classList.add("group-list-item");let s=document.createElement("button");s.innerText=t.name,s.classList.add("pokemon-name-button"),s.classList.add("btn"),s.setAttribute("data-toggle","modal"),s.setAttribute("data-target","#pokemonModal"),o.appendChild(s),n.appendChild(o),s.addEventListener("click",function(){i(t)})},showDetails:i,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o,showModal:s}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});